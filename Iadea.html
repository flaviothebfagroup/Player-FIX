<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>IADEA Troubleshooting</title>
  <style>
:root {
  --main: #F7941D;
  --main-light: #fde6c3;
  --radius: 22px;
  --shadow: 0 2px 32px 0 #0001, 0 0.5px 1px #00000008;
  --progress-height: 9px;
  --font-base: 19px;
  --font-lg: 2.25rem;
  --font-md: 1.16rem;
  --btn-height: 56px;
  --container-width: 470px;
}

/* Base and body */
html, body {
  margin: 0; padding: 0;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
  font-size: var(--font-base);
  background: radial-gradient(ellipse at top left, #fef7f1 60%, #f8fafb 100%);
  min-height: 100vh;
  width: 100vw;
  overflow-x: hidden;
}
body { 
  min-height: 100vh; width: 100vw;
  display: flex;
  align-items: flex-start; 
  justify-content: center;
  position: relative;
  flex-direction: column;
}

/* LOGO: just image, no box */
.top-logo {
  width: 100vw;
  display: flex;
  justify-content: center;
  align-items: flex-end;
  margin-top: 40px;
  margin-bottom: 0px;
  z-index: 40;
  pointer-events: none;
}
.top-logo img {
  width: 350px;
  max-width: 45vw;
  min-width: 100px;
  display: block;
  border-radius: 17px;
  box-shadow: none;
  background: none;
  pointer-events: auto;
}
@media (max-width: 700px) {
  .top-logo { margin-bottom: 0px; margin-top: 10vw;}
  .top-logo img { width: 100vw; min-width: 100px; }
}

/* Main card */
.container {
  background: #fff;
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  max-width: var(--container-width);
  width: 100%;
  margin: 70px auto;
  padding: 10px;
  display: flex;
  flex-direction: column;
  align-items: stretch;
  min-height: 610px;
  max-height: 90vh;
  position: relative;
  z-index: 2;
  overflow: visible;
}

/* Card content */
.card-inner {
  display: flex;
  flex-direction: column;
  align-items: stretch;
  flex: 1 1 auto;
  padding: 48px 24px 24px 48px;
  box-sizing: border-box;
  position: relative;
  min-height: 340px;
}
@media (max-width: 500px) and (min-height: 300px) {
  .container {
    min-height: 5vh;
    max-width: 99vw;
    padding: 0;
    margin: 70px auto;
  }
  .card-inner {
    padding: 12vw 2vw 12vw 2vw;
    min-height: 340px;
  }
}

.heading {
  font-size: var(--font-lg);
  font-weight: 700;
  margin: 0 12px 35px 12px;
  text-align: left; color: #20232a;
  letter-spacing: 0.01em;
  line-height: -1.08;
  min-width: 0;
  word-break: break-word;
  overflow-wrap: break-word;
}
#main-content {
  flex: 1 1 auto;
  display: flex;
  flex-direction: column;
  align-items: stretch;
  justify-content: flex-start;
  width: 100%;
  padding: 50;
  box-sizing: border-box;
}
.intro-text {
  font-size: 1.18em;
  color: #3c3c3c;
  text-align: center;
  line-height: 1.54;
  margin: 0 0 42px 0;
  padding: 48px 0 0 0;
}
.image-placeholder {
  width: 100%;
  max-width: 500px;
  margin: 30px auto 30px auto;
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 170px;
}
.image-placeholder img {
  width: 120%;
  max-width: 300px;
  min-width: 0;
  max-height: 220px;
  height: auto;
  border-radius: 0;
  object-fit: contain;
  display: block;
  background: none;
  border: none;
  margin: 0 auto;
  box-shadow: none;
}
@media (max-width: 700px) and (min-height: 900px) {
  .image-placeholder { max-width: 130vw; min-height: 150px; }
  .image-placeholder img { max-width: 100vw; max-height: 250px; }
}

.step-top {
  text-align: center;
  font-size: 1.11em;
  margin: 0 0 50px 0;
  color: #222;
  font-weight: 500;
  line-height: 1.36;
}
.step-bottom {
  text-align: center;
  font-size: 1.09em;
  color: #333;
  font-weight: 500;
  line-height: 1.36;
  margin: 20px 0 50px 0;
}
.buttons-area {
  width: 100%;
  padding: 18px 18px 24px 18px;
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  align-items: stretch;
  justify-content: flex-end;
  flex-shrink: 0;
}
@media (max-width: 700px) and (min-height: 900px) {
  .buttons-area { padding: 0 2vw 8vw 2vw; }
}
.buttons {
  display: flex; flex-direction: column; gap: 16px;
  justify-content: center; align-items: stretch;
  width: 100%;
  max-width: 420px;
  margin: 0 auto;
}
.buttons button {
  width: 100%;
  min-width: 0;
  height: var(--btn-height);
  padding: 0 10px;
  border: none; border-radius: 14px;
  font-size: var(--font-md);
  font-weight: 600;
  cursor: pointer;
  background: var(--main); color: #fff;
  box-shadow: 0 2px 8px #f7941d16;
  transition: background 0.2s, color 0.2s;
  outline: none;
  letter-spacing: .01em;
}
.buttons .btn-secondary {
  background: #f3f3f3; color: #333; border: 1px solid #ddd;
}
.buttons .btn-secondary:hover { background: #eaeaea; }
.buttons .btn-primary:hover { background: #e68317;}

.progress-page {
  width: 100vw;
  position: fixed;
  left: 0;
  bottom: 46px;
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 10;
  pointer-events: none;
}
.progress-page-number {
  font-size: 1.07em;
  font-weight: 600;
  color: #f7941d;
  background: #fffdfaee;
  border-radius: 999px;
  box-shadow: 0 1px 6px #0001;
  padding: 6px 21px;
  letter-spacing: 0.02em;
  margin: 50px 0 1px 0;
  pointer-events: none;
  user-select: none;
}
.progress-bar {
  width: 100vw;
  left: 0;
  position: fixed;
  bottom: 0;
  z-index: 1;
  margin: 0;
  border-radius: 0;
  background: var(--main-light);
  height: var(--progress-height);
}
.progress-bar-inner {
  height: 100%;
  background: var(--main);
  border-radius: 0;
  width: 0;
  transition: width 0.36s cubic-bezier(.4,1.6,.6,1);
}

/* Back/Next Buttons OUTSIDE, hugging the card (mobile & desktop) */
.attached-btn, .attached-next-btn {
  position: fixed;
  top: 50%;
  transform: translateY(-50%);
  z-index: 30;
  background: var(--main-light);
  color: var(--main);
  border-radius: 50%;
  border: none;
  box-shadow: 0 2px 8px #f7941d18;
  width: 48px; height: 48px;
  font-size: 1.7em;
  cursor: pointer;
  outline: none;
  display: flex;
  align-items: center;
  justify-content: center;
  padding: 0;
  opacity: 0.98;
}
.attached-btn { 
  left: 50%; 
  margin-left: calc(-1 * (var(--container-width)/2) - 32px); 
}
.attached-next-btn { 
  right: 50%; 
  margin-right: calc(-1 * (var(--container-width)/2) - 32px); 
}
@media (max-width: 700px) {
  .attached-btn {
    left: 2vw;
    margin-left: 0;
    width: 40px; height: 40px; font-size: 1.3em;
  }
  .attached-next-btn {
    right: 2vw;
    margin-right: 0;
    width: 40px; height: 40px; font-size: 1.3em;
  }
}
  </style>
</head>
<body>
  <!-- Logo (no box, just image) -->
  <div class="top-logo">
    <img src="https://i.imgur.com/fDv6d8s.png" alt="BFA Digital Logo" onerror="this.style.display='none'">
  </div>
  <!-- Back/Next buttons outside, hugging the card -->
  <button class="attached-btn" id="attached-btn" style="display:none;" aria-label="Back">&larr;</button>
  <button class="attached-next-btn" id="attached-next-btn" style="display:none;" aria-label="Next">&rarr;</button>
  <!-- Main card -->
  <div class="container">
    <div class="card-inner" id="card-inner">
      <h1 class="heading">IADEA Troubleshoot</h1>
      <div id="main-content"></div>
    </div>
    <div class="buttons-area" id="buttons-area"></div>
  </div>
  <div id="progress-page" class="progress-page"></div>
  <div class="progress-bar"><div class="progress-bar-inner" id="progress-bar-inner"></div></div>
  <script>
    const steps = [
      { intro: true, 
        text: `
          <div class="image-placeholder" style="margin-bottom:0;">
            <img src="https://i.imgur.com/PwnioKZ.gif" alt="IADEA Player">
          </div>
          <div class="intro-text">
            Welcome to the IADEA Player Troubleshooting Guide.<br>
            This step-by-step tool will help you quickly resolve the most common issues.
          </div>
        `,
        buttons: [{ text: "Start Troubleshooting", next: 1 }]
      },
      { 
        topText: "Was the internet changed?",
        image: 'https://media.lordicon.com/icons/wired/outline/745-wifi-connection.gif',
        bottomText: "",
        buttons: [{ text: 'Yes', next: 9 }, { text: 'No', next: 2 }] 
      },
      { 
        topText: "Is the TV turned on?",
        image: 'https://media.lordicon.com/icons/wired/outline/1734-tv-turn-on.gif',
        bottomText: "",
        buttons: [{ text: 'Yes', next: 3 }, { text: 'No', next: 9 }] 
      },
      { 
        topText: "Is the IADEA player powered and has a green LED?",
        image: 'https://i.imgur.com/J13LMrc.gif',
        bottomText: "",
        buttons: [{ text: 'Yes', next: 4 }, { text: 'No', next: 9 }] 
      },
      { 
        topText: "Unplug the IADEA player for 1 minute, then plug it back in.",
        image: 'https://i.imgur.com/Vb0pqwS.gif', 
        bottomText: "Did it fix the issue?",
        buttons: [{ text: 'Yes', next: 10 }, { text: 'No', next: 5 }] 
      },
      { 
        topText: "Is the HDMI cable connected properly?", 
        image: 'https://i.imgur.com/35gQgop.gif', 
        bottomText: "",
        buttons: [{ text: 'Yes', next: 6 }, { text: 'No', next: 9 }] 
      },
      { 
        topText: "Do you see any error message on screen?", 
        image: 'https://media.lordicon.com/icons/wired/outline/2592-fail.gif', 
        bottomText: "",
        buttons: [{ text: 'Yes', next: 7 }, { text: 'No', next: 8 }] 
      },
      { 
        topText: "Try restarting the TV.",
        image: 'https://media.lordicon.com/icons/wired/outline/2505-reset-text.gif', 
        bottomText: "Did that fix it?",
        buttons: [{ text: 'Yes', next: 10 }, { text: 'No', next: 8 }] 
      },
      { 
        topText: "Please wait 5 minutes to see if content appears.", 
        image: 'https://media.lordicon.com/icons/wired/outline/472-hourglass.gif', 
        bottomText: "",
        buttons: [{ text: 'It worked!', next: 10 }, { text: 'Still not working', next: 9 }] 
      },
      { 
        topText: "Contact support at <b>(647) 209-0519</b>.",
        image: 'https://media.lordicon.com/icons/wired/outline/682-male-customer-service.gif', 
        bottomText: "",
        buttons: [{ text: 'Restart', next: 0 }]
      },
      { 
        topText: "Great! Your system is now working.",
        image: 'https://media.lordicon.com/icons/wired/outline/1736-smart-tv-layout-interface.gif', 
        bottomText: "",
        buttons: [{ text: 'Restart', next: 0 }]
      }
    ];

    let current = 0, historyStack = [];
    const mainContent = document.getElementById('main-content');
    const buttonsArea = document.getElementById('buttons-area');
    const pbi = document.getElementById('progress-bar-inner');
    const backBtn = document.getElementById('attached-btn');
    const nextBtn = document.getElementById('attached-next-btn');
    const totalSteps = steps.length - 1;

    function updateNavButtons() {
      // Show attached buttons only when not intro and valid
      backBtn.style.display = (!steps[current].intro && current !== 0) ? "flex" : "none";
      nextBtn.style.display = (!steps[current].intro && current < steps.length - 1) ? "flex" : "none";
    }

    function render(i) {
      const step = steps[i];
      updateNavButtons();

      // Hide progress bar on intro
      document.querySelector('.progress-bar').style.display = step.intro ? "none" : "block";

      // Render main content
      if (step.intro) {
        mainContent.innerHTML = step.text;
        buttonsArea.innerHTML = `
          <div class="buttons">
            ${step.buttons.map(b => `<button class="btn-primary" onclick="go(${b.next})">${b.text}</button>`).join('')}
          </div>`;
      } else {
        mainContent.innerHTML = `
          ${step.topText ? `<div class="step-top">${step.topText}</div>` : ""}
          <div class="image-placeholder">${step.image ? `<img src="${step.image}" alt="">` : ''}</div>
          ${step.bottomText ? `<div class="step-bottom">${step.bottomText}</div>` : ""}
        `;
        buttonsArea.innerHTML = `
          <div class="buttons">
            ${step.buttons.map(b => `<button class="btn-primary" onclick="go(${b.next})">${b.text}</button>`).join('')}
          </div>`;
      }

      // Page number with progress bar at bottom
      if (!step.intro) {
        const page = i;
        let progressStepNum = (page > 0 && page < steps.length) ? page : 1;
        document.getElementById('progress-page').innerHTML = 
          `<span class="progress-page-number">Step ${progressStepNum} of ${totalSteps}</span>`;
        // Progress bar width
        const pct = ((i-1) / (totalSteps-1)) * 100;
        pbi.style.width = pct + "%";
      } else {
        document.getElementById('progress-page').innerHTML = "";
      }
    }
    function go(i) { 
      if (i >= 0 && i < steps.length) { 
        if(current !== i) historyStack.push(current); 
        current = i; 
        render(i); 
      } 
    }
    function back() { 
      if (historyStack.length) {
        current = historyStack.pop();
        render(current);
      }
    }
    function nextStep() {
      if (current < steps.length - 1) {
        historyStack.push(current);
        current += 1;
        render(current);
      }
    }
    backBtn.onclick = () => back();
    nextBtn.onclick = () => nextStep();
    window.go = go; window.back = back; window.nextStep = nextStep;
    window.addEventListener('resize', updateNavButtons);
    render(0);
  </script>
</body>
</html>

