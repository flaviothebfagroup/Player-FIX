<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>IADEA Troubleshooting</title>
  <style>
    :root {
      --space-4: 4px;
      --space-8: 8px;
      --space-16: 16px;
      --space-24: 24px;
      --space-32: 32px;
      --touch: 48px;
      --radius: 10px;
      --font-base: 16px;
      --line-base: 1.5;
      --main: #F7941D;
      --main-light: #fde6c3;
      --progress-height: 6px;
    }
    * { box-sizing: border-box; }
    html, body {
      margin: 0; padding: 0;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
      font-size: var(--font-base);
      line-height: var(--line-base);
      background: linear-gradient(135deg,#F5F5F5,#D9D9D9);
      min-height: 100vh;
    }
    body { display:flex; align-items:center; justify-content:center; padding: var(--space-24); }
    .back-btn {
      position: fixed; top: var(--space-16); left: var(--space-16);
      width: var(--touch); height: var(--touch);
      border:none; border-radius:50%; background:#fff;
      box-shadow:0 2px 8px rgba(0,0,0,0.1);
      display:flex; align-items:center; justify-content:center;
      font-size:1.4em; cursor:pointer;
    }
    .back-btn.hidden { display:none; }
    .container {
      background:#fff; border-radius: var(--radius); padding: var(--space-24);
      width:100%; max-width:420px; box-shadow:0 12px 24px rgba(0,0,0,0.1);
      display:flex; flex-direction:column; gap:var(--space-24);
    }
    .logo img { width:100%; border-radius: var(--radius); }
    .heading {
      font-size:1.25em; margin:0; line-height:1.3;
      text-align:center; color:#333;
    }
    .image-placeholder {
      width:100%; max-width:200px; aspect-ratio:1/1;
      margin: 0 auto; border:2px dashed #ccc;
      border-radius: var(--radius); display:flex;
      align-items:center; justify-content:center;
      color:#aaa; font-size:0.95em;
    }
    .question {
      font-size:1.125em; font-weight:500; color:#222;
      text-align:center; margin:0; min-height:66px;
      display:flex; align-items:center; justify-content:center;
    }
    .buttons {
      display:flex; flex-wrap:wrap; gap:var(--space-16);
      justify-content:center;
    }
    .buttons button {
      flex:1 1 auto; min-width:120px;
      padding: 12px 16px;
      border:none; border-radius: var(--radius);
      font-size:1em; font-weight:600; cursor:pointer;
    }
    .btn-primary {
      background:var(--main); color:#fff;
    }
    .btn-primary:hover { background:#e68317; }
    .btn-secondary {
      background:#f3f3f3; color:#333; border:1px solid #ddd;
    }
    .btn-secondary:hover { background:#eaeaea; }
    .progress-bar {
      width: 100%;
      margin-bottom: var(--space-16);
      margin-top: var(--space-8);
      height: var(--progress-height);
      background: var(--main-light);
      border-radius: 3px;
      overflow: hidden;
      position: relative;
      transition: background 0.2s;
    }
    .progress-bar-inner {
      height: 100%;
      background: var(--main);
      border-radius: 3px;
      width: 0;
      transition: width 0.35s cubic-bezier(.4,1.6,.6,1);
    }
    .progress-steps {
      display:flex;
      justify-content:space-between;
      align-items: center;
      gap: 0;
      width: 100%;
      margin-bottom: var(--space-8);
      position: relative;
    }
    .progress-step {
      width: 32px; height: 32px;
      background: #eee; border-radius: 50%;
      display: flex; align-items: center; justify-content: center;
      font-size: 1em; font-weight: 600;
      color: #888; box-shadow: 0 1px 4px #0001;
      position: relative;
      z-index: 1;
      cursor: pointer;
      transition: background 0.2s, color 0.2s;
      border: 2px solid transparent;
    }
    .progress-step.active,
    .progress-step.completed {
      background: var(--main);
      color: #fff;
    }
    .progress-step.completed {
      background: var(--main-light);
      color: var(--main);
      border: 2px solid var(--main);
    }
    .progress-step:not(:last-child)::after {
      content: "";
      position: absolute;
      top: 50%; left: 100%; transform: translateY(-50%);
      width: calc(100% + 2px);
      height: 4px;
      background: var(--main-light);
      z-index: 0;
    }
    .progress-step.completed:not(:last-child)::after {
      background: var(--main);
    }
    @media (max-width: 480px) {
      body { padding: var(--space-16); }
      .container { gap: var(--space-16); padding: var(--space-16); }
      .progress-step { width: 28px; height: 28px; font-size: .95em; }
      .progress-bar { height: 5px; }
    }
  </style>
</head>
<body>
  <button id="back-btn" class="back-btn">&#8592;</button>
  <div class="container">
    <img class="logo" src="https://i.imgur.com/fDv6d8s.png" alt="BFA Digital Logo" onerror="this.style.display='none'">
    <h1 class="heading">IADEA Troubleshoot</h1>
    <div class="progress-bar"><div class="progress-bar-inner" id="progress-bar-inner"></div></div>
    <div class="progress-steps" id="progress-steps"></div>
    <div id="step-container"></div>
  </div>
  <script>
    const steps = [
      { question: 'Is the internet connection stable?', image: '', buttons: [{ text: 'Yes', next: 1 }, { text: 'No', next: 8 }] },
      { question: 'Is the TV turned on?', image: '', buttons: [{ text: 'Yes', next: 2 }, { text: 'No', next: 8 }] },
      { question: 'Is the IADEA player powered and has a green LED?', image: '', buttons: [{ text: 'Yes', next: 3 }, { text: 'No', next: 8 }] },
      { question: 'Unplug the IADEA player for 1 minute, then plug it back in.<br>Did it fix the issue?', image: '', buttons: [{ text: 'Yes', next: 9 }, { text: 'No', next: 4 }] },
      { question: 'Is the HDMI cable connected properly?', image: '', buttons: [{ text: 'Yes', next: 5 }, { text: 'No', next: 8 }] },
      { question: 'Do you see any error message on screen?', image: '', buttons: [{ text: 'Yes', next: 6 }, { text: 'No', next: 7 }] },
      { question: 'Try restarting the TV.<br>Did that fix it?', image: '', buttons: [{ text: 'Yes', next: 9 }, { text: 'No', next: 7 }] },
      { question: 'Please wait 5 minutes to see if content appears.', image: '', buttons: [{ text: 'It worked!', next: 9 }, { text: 'Still not working', next: 8 }] },
      { question: 'Contact support at <b>(647) 209-0519</b>.', image: '', buttons: [] },
      { question: 'Great! Your system is now working.', image: '', buttons: [] }
    ];

    let current = 0, historyStack = [];
    const sc = document.getElementById('step-container');
    const ps = document.getElementById('progress-steps');
    const bb = document.getElementById('back-btn');
    const pbi = document.getElementById('progress-bar-inner');
    const total = steps.length;

    function render(i) {
      // Progress bar line
      const pct = ((i) / (total - 1)) * 100;
      pbi.style.width = pct + "%";

      // Step circles
      ps.innerHTML = steps.map((_, j) => {
        let cl = "progress-step";
        if (j < i) cl += " completed";
        if (j === i) cl += " active";
        return `<div class="${cl}" ${j < 8 ? `onclick="go(${j})"` : ''}>${j + 1}</div>`;
      }).join('');

      // Main content
      const step = steps[i];
      sc.innerHTML = `
        <div class="image-placeholder">${step.image ? `<img src="${step.image}">` : 'Image'}</div>
        <div class="question">${step.question}</div>
        <div class="buttons">
          ${step.buttons.map(b => `<button class="btn-primary" onclick="go(${b.next})">${b.text}</button>`).join('')}
          ${(i >= 8 ? `<button class="btn-secondary" onclick="restart()">Restart</button>` : '')}
        </div>`;

      bb.classList.toggle('hidden', i === 0 || i >= 8);
    }
    function go(i) { if (i >= 0 && i < steps.length) { historyStack.push(current); current = i; render(i); } }
    function back() { if (historyStack.length) go(historyStack.pop()); }
    function restart() { current = 0; historyStack = []; render(0); }
    window.go = go; window.back = back; window.restart = restart;
    bb.onclick = back;
    render(0);
  </script>
</body>
</html>
