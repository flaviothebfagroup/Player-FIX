<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>IADEA Troubleshooting</title>
  <style>
:root {
  --main: #F7941D;
  --main-light: #fde6c3;
  --radius: 22px;
  --shadow: 0 2px 32px 0 #0001, 0 0.5px 1px #00000008;
  --progress-height: 9px;
  --font-base: 19px;
  --font-lg: 2.25rem;
  --font-md: 1.16rem;
  --btn-height: 58px;
  --container-width: 470px;
}

html, body {
  margin: 0; padding: 0;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', system-ui, sans-serif;
  font-size: var(--font-base);
  background: radial-gradient(ellipse at top left, #fef7f1 60%, #f8fafb 100%);
  min-height: 100vh;
  width: 100vw;
  overflow-x: hidden;
}
body { 
  min-height: 100vh; width: 100vw;
  display: flex;
  align-items: center; 
  justify-content: center;
  position: relative;
}

/* LOGO: top center above the card */
.top-logo {
  position: absolute;
  left: 50%;
  top: 30px;
  transform: translateX(-50%);
  z-index: 40;
  background: #fff;
  border-radius: 18px;
  padding: 12px 38px 18px 38px;
  box-shadow: 0 2px 20px #0001, 0 1px 3px #00000008;
  display: flex;
  justify-content: center;
  align-items: center;
}
.top-logo img {
  width: 152px;
  max-width: 36vw;
  display: block;
  border-radius: 14px;
}
@media (max-width: 600px) {
  .top-logo { top: 14px; padding: 7px 10vw 9px 10vw; }
  .top-logo img { width: 40vw; min-width: 84px; }
}

/* Main card */
.container {
  background: #fff;
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  max-width: var(--container-width);
  width: 100%;
  margin: auto;
  padding: 0;
  display: flex;
  flex-direction: column;
  align-items: stretch;
  min-height: 650px;
  max-height: 93vh;
  position: relative;
  z-index: 2;
  overflow: visible;
}

/* Card content */
.card-inner {
  display: flex;
  flex-direction: column;
  align-items: stretch;
  flex: 1 1 auto;
  padding: 54px 38px 0 38px;
  box-sizing: border-box;
  position: relative;
}
@media (max-width: 600px) {
  .card-inner { padding: 17vw 6vw 0 6vw; }
}

/* DESKTOP: Back/Next buttons OUTSIDE card, vertically centered */
.fixed-back-btn, .fixed-next-btn {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  z-index: 30;
  display: flex;
  align-items: center;
  pointer-events: auto;
}
.fixed-back-btn {
  left: -92px;
}
.fixed-next-btn {
  right: -92px;
}
.fixed-back-btn button, .fixed-next-btn button {
  background: var(--main-light);
  color: var(--main);
  border-radius: 99px;
  border: none;
  font-size: 1.11em;
  font-weight: 600;
  padding: 15px 34px 15px 22px;
  cursor: pointer;
  outline: none;
  transition: background 0.15s, color 0.15s;
  box-shadow: 0 1px 4px #f7941d11;
  display: flex; align-items: center; gap: 7px;
}
.fixed-next-btn button {
  padding: 15px 22px 15px 34px;
}
.fixed-back-btn button:hover, .fixed-next-btn button:hover {
  background: #fbd49c;
  color: #d87104;
}

/* MOBILE: Back/Next buttons INSIDE card, arrows only */
.mobile-arrow-btn {
  display: none;
}
@media (max-width: 700px) and (min-height: 900px) {
  .fixed-back-btn, .fixed-next-btn { display: none !important; }
  .mobile-arrow-btn {
    display: flex;
    align-items: center;
    justify-content: center;
    position: absolute;
    top: 50%;
    transform: translateY(-50%);
    z-index: 30;
    background: var(--main-light);
    color: var(--main);
    border: none;
    border-radius: 50%;
    width: 56px;
    height: 56px;
    font-size: 2.1em;
    box-shadow: 0 2px 12px #f7941d15;
    cursor: pointer;
    transition: background 0.15s, color 0.15s;
    padding: 0;
    outline: none;
  }
  .mobile-arrow-btn:active, .mobile-arrow-btn:hover {
    background: #fbd49c;
    color: #d87104;
  }
  .mobile-back { left: 8px; }
  .mobile-next { right: 8px; }
}

/* Main card content styling */
.heading {
  font-size: var(--font-lg);
  font-weight: 700;
  margin: 0 0 34px 0;
  text-align: left; color: #20232a;
  letter-spacing: 0.01em;
  line-height: 1.08;
  min-width: 0;
  word-break: break-word;
  overflow-wrap: break-word;
}
#main-content {
  flex: 1 1 auto;
  display: flex;
  flex-direction: column;
  align-items: stretch;
  justify-content: flex-start;
  width: 100%;
  padding: 0;
  box-sizing: border-box;
}
.intro-text {
  font-size: 1.18em;
  color: #3c3c3c;
  text-align: center;
  line-height: 1.54;
  margin: 0 0 42px 0;
  padding: 12px 0 0 0;
}
.image-placeholder {
  width: 100%;
  max-width: 420px;
  margin: 0 auto 36px auto;
  display: flex;
  align-items: center;
  justify-content: center;
  min-height: 210px;
}
.image-placeholder img {
  width: 100%;
  max-width: 390px;
  min-width: 0;
  max-height: 250px;
  height: auto;
  border-radius: 0;
  object-fit: contain;
  display: block;
  background: none;
  border: none;
  margin: 0 auto;
  box-shadow: none;
}
.step-top {
  text-align: center;
  font-size: 1.18em;
  margin: 0 0 28px 0;
  color: #222;
  font-weight: 500;
  line-height: 1.36;
}
.step-bottom {
  text-align: center;
  font-size: 1.19em;
  color: #333;
  font-weight: 500;
  line-height: 1.36;
  margin: 30px 0 22px 0;
}
.buttons-area {
  width: 100%;
  padding: 0 38px 44px 38px;
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  align-items: stretch;
  justify-content: flex-end;
  flex-shrink: 0;
}
@media (max-width: 600px) {
  .buttons-area { padding: 0 6vw 8vw 6vw; }
}
.buttons {
  display: flex; flex-direction: column; gap: 22px;
  justify-content: center; align-items: stretch;
  width: 100%;
  max-width: 420px;
  margin: 0 auto;
}
.buttons button {
  width: 100%;
  min-width: 0;
  height: var(--btn-height);
  padding: 0 18px;
  border: none; border-radius: 17px;
  font-size: var(--font-md);
  font-weight: 600;
  cursor: pointer;
  background: var(--main); color: #fff;
  box-shadow: 0 2px 8px #f7941d16;
  transition: background 0.2s, color 0.2s;
  outline: none;
  letter-spacing: .01em;
}
.buttons .btn-secondary {
  background: #f3f3f3; color: #333; border: 1px solid #ddd;
}
.buttons .btn-secondary:hover { background: #eaeaea; }
.buttons .btn-primary:hover { background: #e68317;}
.progress-page {
  width: 100vw;
  position: fixed;
  left: 0;
  bottom: 42px;
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 10;
  pointer-events: none;
}
.progress-page-number {
  font-size: 1.19em;
  font-weight: 600;
  color: #f7941d;
  background: #fffdfaee;
  border-radius: 999px;
  box-shadow: 0 1px 6px #0001;
  padding: 8px 29px;
  letter-spacing: 0.02em;
  margin: 0 0 8px 0;
  pointer-events: none;
  user-select: none;
}
.progress-bar {
  width: 100vw;
  left: 0;
  position: fixed;
  bottom: 0;
  z-index: 1;
  margin: 0;
  border-radius: 0;
  background: var(--main-light);
  height: var(--progress-height);
}
.progress-bar-inner {
  height: 100%;
  background: var(--main);
  border-radius: 0;
  width: 0;
  transition: width 0.36s cubic-bezier(.4,1.6,.6,1);
}
  </style>
</head>
<body>
  <!-- Logo OUTSIDE card, centered horizontally above card -->
  <div class="top-logo">
    <img src="https://i.imgur.com/fDv6d8s.png" alt="BFA Digital Logo" onerror="this.style.display='none'">
  </div>
  <!-- Back button OUTSIDE card, vertically centered (desktop) -->
  <div class="fixed-back-btn" id="fixed-back-btn" style="display:none;">
    <button type="button" onclick="back()">&larr; Back</button>
  </div>
  <!-- Next button OUTSIDE card, vertically centered (desktop) -->
  <div class="fixed-next-btn" id="fixed-next-btn" style="display:none;">
    <button type="button" onclick="nextStep()">Next &rarr;</button>
  </div>
  <!-- MOBILE arrows INSIDE card, vertically centered (shown on tall mobile only) -->
  <button id="mobile-back" class="mobile-arrow-btn mobile-back" style="display:none;" aria-label="Back">&larr;</button>
  <button id="mobile-next" class="mobile-arrow-btn mobile-next" style="display:none;" aria-label="Next">&rarr;</button>
  <!-- Main card -->
  <div class="container">
    <div class="card-inner" id="card-inner">
      <h1 class="heading">IADEA Troubleshoot</h1>
      <div id="main-content"></div>
    </div>
    <div class="buttons-area" id="buttons-area"></div>
  </div>
  <div id="progress-page" class="progress-page"></div>
  <div class="progress-bar"><div class="progress-bar-inner" id="progress-bar-inner"></div></div>
  <script>
    const steps = [
      { intro: true, 
        text: `
          <div class="image-placeholder" style="margin-bottom:0;">
            <img src="https://i.imgur.com/PwnioKZ.gif" alt="IADEA Player">
          </div>
          <div class="intro-text">
            Welcome to the IADEA Player Troubleshooting Guide.<br>
            This step-by-step tool will help you quickly resolve the most common issues.
          </div>
        `,
        buttons: [{ text: "Start Troubleshooting", next: 1 }]
      },
      { 
        topText: "Was the internet changed?",
        image: 'https://media.lordicon.com/icons/wired/outline/745-wifi-connection.gif',
        bottomText: "",
        buttons: [{ text: 'Yes', next: 9 }, { text: 'No', next: 2 }] 
      },
      { 
        topText: "Is the TV turned on?",
        image: 'https://media.lordicon.com/icons/wired/outline/1734-tv-turn-on.gif',
        bottomText: "",
        buttons: [{ text: 'Yes', next: 3 }, { text: 'No', next: 9 }] 
      },
      { 
        topText: "Is the IADEA player powered and has a green LED?",
        image: 'https://i.imgur.com/J13LMrc.gif',
        bottomText: "",
        buttons: [{ text: 'Yes', next: 4 }, { text: 'No', next: 9 }] 
      },
      { 
        topText: "Unplug the IADEA player for 1 minute, then plug it back in.",
        image: 'https://i.imgur.com/Vb0pqwS.gif', 
        bottomText: "Did it fix the issue?",
        buttons: [{ text: 'Yes', next: 10 }, { text: 'No', next: 5 }] 
      },
      { 
        topText: "Is the HDMI cable connected properly?", 
        image: 'https://i.imgur.com/35gQgop.gif', 
        bottomText: "",
        buttons: [{ text: 'Yes', next: 6 }, { text: 'No', next: 9 }] 
      },
      { 
        topText: "Do you see any error message on screen?", 
        image: 'https://media.lordicon.com/icons/wired/outline/2592-fail.gif', 
        bottomText: "",
        buttons: [{ text: 'Yes', next: 7 }, { text: 'No', next: 8 }] 
      },
      { 
        topText: "Try restarting the TV.",
        image: 'https://media.lordicon.com/icons/wired/outline/2505-reset-text.gif', 
        bottomText: "Did that fix it?",
        buttons: [{ text: 'Yes', next: 10 }, { text: 'No', next: 8 }] 
      },
      { 
        topText: "Please wait 5 minutes to see if content appears.", 
        image: 'https://media.lordicon.com/icons/wired/outline/472-hourglass.gif', 
        bottomText: "",
        buttons: [{ text: 'It worked!', next: 10 }, { text: 'Still not working', next: 9 }] 
      },
      { 
        topText: "Contact support at <b>(647) 209-0519</b>.",
        image: 'https://media.lordicon.com/icons/wired/outline/682-male-customer-service.gif', 
        bottomText: "",
        buttons: [{ text: 'Restart', next: 0 }]
      },
      { 
        topText: "Great! Your system is now working.",
        image: 'https://media.lordicon.com/icons/wired/outline/1736-smart-tv-layout-interface.gif', 
        bottomText: "",
        buttons: [{ text: 'Restart', next: 0 }]
      }
    ];

    let current = 0, historyStack = [];
    const mainContent = document.getElementById('main-content');
    const buttonsArea = document.getElementById('buttons-area');
    const pbi = document.getElementById('progress-bar-inner');
    const backBtnDiv = document.getElementById('fixed-back-btn');
    const nextBtnDiv = document.getElementById('fixed-next-btn');
    const mobileBack = document.getElementById('mobile-back');
    const mobileNext = document.getElementById('mobile-next');
    const cardInner = document.getElementById('card-inner');
    const totalSteps = steps.length - 1;

    function updateNavButtons() {
      const isMobile = window.matchMedia('(max-width: 700px) and (min-height: 900px)').matches;
      // Desktop: outside card
      if (!isMobile) {
        backBtnDiv.style.display = (!steps[current].intro && current !== 0) ? "block" : "none";
        nextBtnDiv.style.display = (!steps[current].intro && current < steps.length - 1) ? "block" : "none";
        mobileBack.style.display = 'none';
        mobileNext.style.display = 'none';
      } else {
        // Mobile: inside card, only arrows, hide on intro
        backBtnDiv.style.display = 'none';
        nextBtnDiv.style.display = 'none';
        mobileBack.style.display = (!steps[current].intro && current !== 0) ? 'flex' : 'none';
        mobileNext.style.display = (!steps[current].intro && current < steps.length - 1) ? 'flex' : 'none';
      }
    }

    function render(i) {
      const step = steps[i];
      updateNavButtons();

      // Hide progress bar on intro
      document.querySelector('.progress-bar').style.display = step.intro ? "none" : "block";

      // Render main content
      if (step.intro) {
        mainContent.innerHTML = step.text;
        buttonsArea.innerHTML = `
          <div class="buttons">
            ${step.buttons.map(b => `<button class="btn-primary" onclick="go(${b.next})">${b.text}</button>`).join('')}
          </div>`;
      } else {
        mainContent.innerHTML = `
          ${step.topText ? `<div class="step-top">${step.topText}</div>` : ""}
          <div class="image-placeholder">${step.image ? `<img src="${step.image}" alt="">` : ''}</div>
          ${step.bottomText ? `<div class="step-bottom">${step.bottomText}</div>` : ""}
        `;
        buttonsArea.innerHTML = `
          <div class="buttons">
            ${step.buttons.map(b => `<button class="btn-primary" onclick="go(${b.next})">${b.text}</button>`).join('')}
          </div>`;
      }

      // Page number with progress bar at bottom
      if (!step.intro) {
        const page = i;
        let progressStepNum = (page > 0 && page < steps.length) ? page : 1;
        document.getElementById('progress-page').innerHTML = 
          `<span class="progress-page-number">Step ${progressStepNum} of ${totalSteps}</span>`;
        // Progress bar width
        const pct = ((i-1) / (totalSteps-1)) * 100;
        pbi.style.width = pct + "%";
      } else {
        document.getElementById('progress-page').innerHTML = "";
      }
    }
    function go(i) { 
      if (i >= 0 && i < steps.length) { 
        if(current !== i) historyStack.push(current); 
        current = i; 
        render(i); 
      } 
    }
    function back() { 
      if (historyStack.length) {
        current = historyStack.pop();
        render(current);
      }
    }
    function nextStep() {
      if (current < steps.length - 1) {
        historyStack.push(current);
        current += 1;
        render(current);
      }
    }
    // Mobile arrow click handlers
    mobileBack.onclick = () => back();
    mobileNext.onclick = () => nextStep();

    window.go = go; window.back = back; window.nextStep = nextStep;
    window.addEventListener('resize', () => updateNavButtons());
    render(0);
  </script>
</body>
</html>

